(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{363:function(l,t,s){"use strict";s.r(t);var a=s(25),e=Object(a.a)({},(function(){var l=this,t=l.$createElement,s=l._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[s("h1",{attrs:{id:"在线yum安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在线yum安装"}},[l._v("#")]),l._v(" 在线yum安装")]),l._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[l._v("#")]),l._v(" 安装")]),l._v(" "),s("ul",[s("li",[s("p",[l._v("下载mysql源安装包")]),l._v(" "),s("ul",[s("li",[l._v("wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm")]),l._v(" "),s("li",[l._v("yum localinstall mysql57-community-release-el7-8.noarch.rpm")])])]),l._v(" "),s("li",[s("p",[l._v("检查mysql源是否安装成功")]),l._v(" "),s("ul",[s("li",[l._v("检查mysql源是否安装成功")]),l._v(" "),s("li",[l._v("可以修改vim /etc/yum.repos.d/mysql-community.repo源，改变默认安装的mysql版本。比如要安装5.6版本，\n将5.7源的enabled=1改成enabled=0。然后再将5.6源的enabled=0改成enabled=1即可")])])]),l._v(" "),s("li",[s("p",[l._v("安装MySQL")]),l._v(" "),s("ul",[s("li",[l._v("yum install mysql-community-server")])])])]),l._v(" "),s("h2",{attrs:{id:"启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[l._v("#")]),l._v(" 启动")]),l._v(" "),s("ul",[s("li",[s("p",[l._v("启动MySQL服务")]),l._v(" "),s("ul",[s("li",[l._v("systemctl start mysqld")])])]),l._v(" "),s("li",[s("p",[l._v("开机启动")]),l._v(" "),s("ul",[s("li",[l._v("systemctl enable mysqld")]),l._v(" "),s("li",[l._v("systemctl daemon-reload")])])])]),l._v(" "),s("h2",{attrs:{id:"密码访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#密码访问"}},[l._v("#")]),l._v(" 密码访问")]),l._v(" "),s("ul",[s("li",[s("p",[l._v("修改密码策略")]),l._v(" "),s("ul",[s("li",[l._v("在vim /etc/my.cnf文件添加validate_password_policy配置，指定密码策略")]),l._v(" "),s("li",[l._v("选择0（LOW），1（MEDIUM），2（STRONG）其中一种，选择2需要提供密码字典文件\n"),s("ul",[s("li",[l._v("validate_password_policy=0")])])]),l._v(" "),s("li",[l._v("如果不需要密码策略，添加my.cnf文件中添加如下配置禁用即可：\n"),s("ul",[s("li",[l._v("validate_password = off")])])])])]),l._v(" "),s("li",[s("p",[l._v("修改root本地登录密码")]),l._v(" "),s("ul",[s("li",[l._v("mysql安装完成之后，在/var/log/mysqld.log文件中给root生成了一个默认密码。\n通过下面的方式找到root默认密码，然后登录mysql进行修改\n"),s("ul",[s("li",[l._v("grep 'temporary password' /var/log/mysqld.log")]),l._v(" "),s("li",[l._v("mysql -uroot -p")]),l._v(" "),s("li",[l._v("ALTER USER 'root'@'localhost' IDENTIFIED BY 'password';")]),l._v(" "),s("li",[l._v("或者set password for 'root'@'localhost'=password('password');")])])])])]),l._v(" "),s("li",[s("p",[l._v("添加远程登录用户")]),l._v(" "),s("ul",[s("li",[l._v("GRANT ALL PRIVILEGES ON "),s("em",[l._v(".")]),l._v(" TO 'root'@'%' IDENTIFIED BY 'root' WITH GRANT OPTION;")])])])]),l._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[l._v("#")]),l._v(" 配置")]),l._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[l._v("#不需要密码策略\nvalidate_password = off  \n#默认编码       \ncharacter_set_server=utf8      \n#连接编码 \ninit_connect='SET NAMES utf8'\n#忽略大小写(Linux)   \nlower_case_table_names=1 \n#最大连接量       \nmax_allowed_packet=50m  \n#分布式下id        \nserver-id=1     \n#开启binglog                \nlog-bin=mysql-bin   \n#binglog格式            \nbinlog_format=MIXED            \n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);